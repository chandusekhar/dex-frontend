<!--

  Digital Excellence Copyright (C) 2020 Brend Smits

   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU Lesser General Public License as published
   by the Free Software Foundation version 3 of the License.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty
   of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
   See the GNU Lesser General Public License for more details.

   You can find a copy of the GNU Lesser General Public License
   along with this program, in the LICENSE.md file in the root project directory.
   If not, see https://www.gnu.org/licenses/lgpl-3.0.txt

 -->

<h1>Search project</h1>
<div class="row">
  <div class="col-2">
    <div class="projects-filter">
      <h3>Filter</h3>
      <accordion>
        <accordion-group heading="Category">
          <form action="">
            <input type="checkbox" name="category1" value="Code">
            <label for="category1">Code</label><br>
            <input type="checkbox" name="category2" value="Video">
            <label for="category2">Video</label><br>
            <input type="checkbox" name="category3" value="Research paper">
            <label for="category3">Research paper</label>
          </form>
        </accordion-group>
        <accordion-group heading="Tags">
          <p>Some content</p>
        </accordion-group>
        <accordion-group heading="Sort options">
          <p>Some content</p>
        </accordion-group>
        <accordion-group heading="Upload date">
          <p>Some content</p>
        </accordion-group>
      </accordion>
    </div>
  </div>


  <div class="col-10">
    <div class="search">
      <input type="search" placeholder="search project" [formControl]="searchControl" (keyup)="onSearchInput($event)">
      <button><img src="assets/images/research.svg"></button>
    </div>

    <ng-container *ngIf="!projectsEmpty() && !projectsLoading; else noProjects">
      <table class="projects-table">
        <tr *ngIf="projectsLoading">
          <td colspan="3">Loading...</td>
        </tr>
        <tr *ngFor="let project of projectsToDisplay">
          <td class="title" (click)="onProjectClick(project.id)">
            <div class="icon-placeholder">
              <img alt="project-image" src="assets/images/placeholder.svg">
            </div>
            <span>
              <h3>{{ project.name }}</h3>
              <p>{{ project.shortDescription }}</p>
            </span>
          </td>
          <td class="icon">
            <p class="large"><img alt="clock" class="icon"
                src="assets/images/clock.svg">{{ project.created | date:'longDate' }}</p>
          </td>
          <td class="icon">
            <p class="large"><img alt="user" class="icon" src="assets/images/user.svg">{{ project.user.name }}</p>
          </td>
        </tr>
      </table>
    </ng-container>

    <ng-template #noProjects>There are no projects available.</ng-template>
  </div>
</div>
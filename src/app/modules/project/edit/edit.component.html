<!--

  Digital Excellence Copyright (C) 2020 Brend Smits

   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU Lesser General Public License as published
   by the Free Software Foundation version 3 of the License.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty
   of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
   See the GNU Lesser General Public License for more details.

   You can find a copy of the GNU Lesser General Public License
   along with this program, in the LICENSE.md file in the root project directory.
   If not, see https://www.gnu.org/licenses/lgpl-3.0.txt

 -->


<div class="row">
  <div class="offset-3 col-6">
    <h1>Edit project</h1>
    <form [formGroup]="editProjectForm" class="project-form">

      <div class="row">
        <div class="col-12">
          <div>
            <h3>Project name*</h3>
            <input placeholder="Digital Excellence" formControlName="name" required [ngModel]="project?.name">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <div>
            <h3>Project link*</h3>
            <input placeholder="https://github.com/fontys/digitalexcellence" formControlName="uri" required
              [ngModel]="project?.uri">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <div>
            <h3>Short description*</h3>
            <input formControlName="shortDescription" required [ngModel]="project?.shortDescription">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <div>
            <h3>Description*</h3>
            <textarea formControlName="description" required [ngModel]="project?.description"></textarea>
          </div>
        </div>
      </div>
    </form>


    <form [formGroup]="editCollaboratorForm" class="project-form">
      <p><b>Edit project members</b></p>
      <div class="row">
        <div class="col-12">
          <div class="row">
            <div class="col-5">
              <h3>Collaborator full name</h3>
              <input formControlName="fullName" required>
            </div>
            <div class="col-5">
              <h3>Collaborator role</h3>
              <input formControlName="role" required>
            </div>
            <div class="col-2 add-collaborator-col">
              <button type="button" class="btn btn-icon btn-primary add-collaborator-button"
                aria-label="settings" (click)="onClickAddCollaborator()"
                [disabled]="!editCollaboratorForm.valid">
                +
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>




    <div class="row" *ngIf="collaborators.length > 0">

      <div class="col-12">
        <h3>Collaborators</h3>
      </div>

      <div *ngFor="let collaborator of collaborators" class="col-5">
        <button type="button" class="btn btn-icon btn-danger" aria-label="error"
          (click)="onClickDeleteCollaborator(collaborator)"> <span aria-hidden="true"> &times; </span>
        </button>
        {{collaborator?.fullName}}
        <hr class="dashed">
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <button class="btn btn-success" type="submit" (click)="onClickSubmit()"
          [disabled]="!editProjectForm.valid">Edit
          project</button>
      </div>
    </div>
  </div>
</div>
